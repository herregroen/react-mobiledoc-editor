!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("prop-types"),require("mobiledoc-kit"),require("create-react-class"),require("react-dom")):"function"==typeof define&&define.amd?define("ReactMobiledocEditor",["react","prop-types","mobiledoc-kit","create-react-class","react-dom"],t):"object"==typeof exports?exports.ReactMobiledocEditor=t(require("react"),require("prop-types"),require("mobiledoc-kit"),require("create-react-class"),require("react-dom")):e.ReactMobiledocEditor=t(e.react,e["prop-types"],e["mobiledoc-kit"],e["create-react-class"],e["react-dom"])}("undefined"!=typeof self?self:this,function(e,t,r,a,o){return function(e){var t={};function r(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=16)}([function(t,r){t.exports=e},function(e,r){e.exports=t},function(e,t,r){var a;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var n=typeof a;if("string"===n||"number"===n)e.push(a);else if(Array.isArray(a))e.push(o.apply(null,a));else if("object"===n)for(var i in a)r.call(a,i)&&a[i]&&e.push(i)}}return e.join(" ")}void 0!==e&&e.exports?e.exports=o:void 0===(a=function(){return o}.apply(t,[]))||(e.exports=a)}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},o=i(r(1)),n=i(r(0));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e,t){var r=t.editor,o=t.activeSectionTags,i=void 0===o?[]:o,u=e.tags,l=void 0===u?[]:u,c=function(e,t){var r={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r}(e,["tags"]),d=function(){return l.find(function(e){return i.includes(e)})};return n.default.createElement("select",a({value:d()||"",onChange:function(e){var t=e.target.value||d();r.toggleSection(t)}},c),n.default.createElement("option",{value:""}),l.map(function(e){return n.default.createElement("option",{value:e,key:e},e.toUpperCase())}))};u.propTypes={tags:o.default.arrayOf(o.default.oneOf(["p","h1","h2","h3","h4","h5","h6","blockquote","aside"])).isRequired},u.contextTypes={editor:o.default.object,activeSectionTags:o.default.array},t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},o=l(r(1)),n=l(r(0)),i=l(r(2)),u=l(r(5));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t){var r=t.editor,o=t.activeSectionTags,l=void 0===o?[]:o,c=e.tag,d=void 0===c?"":c,s=e.type,f=void 0===s?"button":s,p=e.children,v=void 0===p?(0,u.default)(d):p,m=e.className,h=function(e,t){var r={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r}(e,["tag","type","children","className"]);return m=(0,i.default)(m,{active:l.indexOf(d.toLowerCase())>-1}),h=a({type:f},h,{onClick:function(){return r.toggleSection(d)},className:m}),n.default.createElement("button",h,v)};c.propTypes={tag:o.default.string.isRequired,children:o.default.node},c.contextTypes={editor:o.default.object,activeSectionTags:o.default.array},t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return""+e.charAt(0).toUpperCase()+e.slice(1)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},o=l(r(1)),n=l(r(0)),i=l(r(2)),u=l(r(5));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t){var r=t.editor,o=t.activeMarkupTags,l=void 0===o?[]:o,c=e.tag,d=void 0===c?"":c,s=e.type,f=void 0===s?"button":s,p=e.children,v=void 0===p?(0,u.default)(d):p,m=e.className,h=function(e,t){var r={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r}(e,["tag","type","children","className"]);return m=(0,i.default)(m,{active:l.indexOf(d.toLowerCase())>-1}),h=a({type:f},h,{onClick:function(){return r.toggleMarkup(d)},className:m}),n.default.createElement("button",h,v)};c.propTypes={tag:o.default.string.isRequired,children:o.default.node},c.contextTypes={editor:o.default.object,activeMarkupTags:o.default.array},t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},o=l(r(1)),n=l(r(0)),i=l(r(2)),u=r(8);function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t){var r=t.editor,o=t.activeMarkupTags,l=void 0===o?[]:o,c=e.children,d=void 0===c?"Link":c,s=e.type,f=void 0===s?"button":s,p=e.handler,v=e.className,m=function(e,t){var r={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r}(e,["children","type","handler","className"]);return v=(0,i.default)(v,{active:l.indexOf("a")>-1}),m=a({type:f},m,{onClick:function(){r.hasCursor()&&(r.hasActiveMarkup("a")?r.toggleMarkup("a"):u.UI.toggleLink(r,p))},className:v}),n.default.createElement("button",m,d)};c.propTypes={children:o.default.node},c.contextTypes={editor:o.default.object,activeMarkupTags:o.default.array},t.default=c},function(e,t){e.exports=r},function(e,t){e.exports=a},function(e,t){e.exports=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(r(0)),o=l(r(6)),n=l(r(4)),i=l(r(7)),u=l(r(3));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return a.default.createElement("ul",e,a.default.createElement("li",null,a.default.createElement(o.default,{tag:"strong"})),a.default.createElement("li",null,a.default.createElement(o.default,{tag:"em"})),a.default.createElement("li",null,a.default.createElement(i.default,null)),a.default.createElement("li",null,"Style: ",a.default.createElement(u.default,{tags:["h1","h2","h3"]})),a.default.createElement("li",null,a.default.createElement(n.default,{tag:"blockquote"})),a.default.createElement("li",null,a.default.createElement(n.default,{tag:"ul"},"UL")),a.default.createElement("li",null,a.default.createElement(n.default,{tag:"ol"},"OL")))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},o=i(r(1)),n=i(r(0));function i(e){return e&&e.__esModule?e:{default:e}}var u=(0,i(r(9)).default)({displayName:"Editor",contextTypes:{editor:o.default.object},componentDidMount:function(){var e=this.context.editor;e&&e.render(this.refs.editor)},render:function(){var e=a({},this.props,{ref:"editor"});return n.default.createElement("div",e)}});t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_MOBILEDOC=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},o=l(r(1)),n=l(r(0)),i=l(r(9)),u=l(r(8));function l(e){return e&&e.__esModule?e:{default:e}}var c=t.EMPTY_MOBILEDOC={version:"0.3.0",markups:[],atoms:[],cards:[],sections:[]},d=(0,i.default)({displayName:"Container",propTypes:{atoms:o.default.array,autofocus:o.default.bool,cards:o.default.array,didCreateEditor:o.default.func,html:o.default.string,mobiledoc:o.default.object,onChange:o.default.func,options:o.default.object,placeholder:o.default.string,serializeVersion:o.default.string,spellcheck:o.default.bool,willCreateEditor:o.default.func},childContextTypes:{editor:o.default.object,activeMarkupTags:o.default.array,activeSectionTags:o.default.array},getDefaultProps:function(){return{atoms:[],autofocus:!0,cardProps:{},cards:[],placeholder:"",serializeVersion:"0.3.0",spellcheck:!0}},getInitialState:function(){return{activeMarkupTags:[],activeSectionTags:[]}},getChildContext:function(){return{editor:this.editor,activeMarkupTags:this.state.activeMarkupTags,activeSectionTags:this.state.activeSectionTags}},componentWillMount:function(){var e=this;"function"==typeof this.props.willCreateEditor&&this.props.willCreateEditor();var t=this.props.mobiledoc,r=this.props,o=r.atoms,n=r.autofocus,i=r.cardProps,l=r.cards,d=r.html,s=r.placeholder,f=r.serializeVersion,p=r.spellcheck;t||d||(t=c);var v=a({},this.props.options,{atoms:o,autofocus:n,cardOptions:{cardProps:i},cards:l,html:d,mobiledoc:t,placeholder:s,serializeVersion:f,spellcheck:p});this.editor=new u.default.Editor(v),this.editor.inputModeDidChange(this.setActiveTags),"function"==typeof this.props.onChange&&this.editor.postDidChange(function(){var t=e.editor.serialize(e.props.serializeVersion);e.props.onChange(t)}),"function"==typeof this.props.didCreateEditor&&this.props.didCreateEditor(this.editor)},componentWillUnmount:function(){this.editor.destroy()},render:function(){var e=this.props,t=(e.atoms,e.autofocus,e.cardProps,e.cards,e.children),r=(e.didCreateEditor,e.html,e.mobiledoc,e.options,e.placeholder,e.serializeVersion,e.spellcheck,e.willCreateEditor,function(e,t){var r={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r}(e,["atoms","autofocus","cardProps","cards","children","didCreateEditor","html","mobiledoc","options","placeholder","serializeVersion","spellcheck","willCreateEditor"]));return n.default.createElement("div",r,t)},setActiveTags:function(){this.setState({activeMarkupTags:this.editor.activeMarkups.map(function(e){return e.tagName}),activeSectionTags:this.editor.activeSections.map(function(e){return e.isNested?e.parent.tagName:e.tagName})})}});t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.classToDOMAtom=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},o=i(r(0)),n=i(r(10));function i(e){return e&&e.__esModule?e:{default:e}}t.classToDOMAtom=function(e){if(!e.displayName)throw new Error("Can't create atom from component, no displayName defined: "+e);return{name:e.displayName,component:e,type:"dom",render:function(e){return function(t){var r=t.env,i=t.options,u=t.payload,l=t.value,c=r.onTeardown,d=o.default.createElement(e,a({},r,i,{value:l,payload:a({},u)})),s=document.createElement("span");return n.default.render(d,s),c(function(){return n.default.unmountComponentAtNode(s)}),s}}(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.classToDOMCard=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},o=i(r(0)),n=i(r(10));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(r){var i=r.env,u=r.options,l=r.payload,c=document.createElement("div"),d=i.didRender,s=i.onTeardown;return d(function(){l=a({},l);var r=u.cardProps,d=o.default.createElement(e,a({},i,r,{payload:l,isEditing:t}));n.default.render(d,c)}),s(function(){return n.default.unmountComponentAtNode(c)}),c}};t.classToDOMCard=function(e){if(!e.displayName)throw new Error("Can't create card from component, no displayName defined: "+e);return{name:e.displayName,component:e,type:"dom",render:u(e),edit:u(e,!0)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Toolbar=t.SectionSelect=t.SectionButton=t.MarkupButton=t.LinkButton=t.EMPTY_MOBILEDOC=t.Editor=t.Container=t.classToDOMAtom=t.classToDOMCard=void 0;var a=r(15),o=r(14),n=r(13),i=p(n),u=p(r(12)),l=p(r(7)),c=p(r(6)),d=p(r(4)),s=p(r(3)),f=p(r(11));function p(e){return e&&e.__esModule?e:{default:e}}t.classToDOMCard=a.classToDOMCard,t.classToDOMAtom=o.classToDOMAtom,t.Container=i.default,t.Editor=u.default,t.EMPTY_MOBILEDOC=n.EMPTY_MOBILEDOC,t.LinkButton=l.default,t.MarkupButton=c.default,t.SectionButton=d.default,t.SectionSelect=s.default,t.Toolbar=f.default}])});